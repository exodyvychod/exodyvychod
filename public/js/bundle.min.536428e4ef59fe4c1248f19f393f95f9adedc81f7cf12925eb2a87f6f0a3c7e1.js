const debounce=(e,t=10)=>{let n;return function(...s){clearTimeout(n),n=setTimeout(()=>{e.apply(this,s)},t)}},navToggle=document.querySelector("#nav-toggle"),navMenu=document.querySelector("#site-nav"),closeNav=()=>{navMenu.classList.remove("banner__nav--open"),navToggle.innerHTML="Menu",navToggle.title="Open main site navigation"},openNav=()=>{navMenu.classList.add("banner__nav--open"),navToggle.innerHTML="X",navToggle.title="Close main site navigation"};navToggle.addEventListener("click",e=>{e.stopPropagation(),navMenu.classList.contains("banner__nav--open")?closeNav():openNav()}),document.addEventListener("click",e=>{navMenu.classList.contains("banner__nav--open")&&!navMenu.contains(e.target)&&closeNav()}),document.addEventListener("keyup",e=>{e.key==="Tab"&&navMenu.classList.contains("banner__nav--open")&&!navMenu.contains(document.activeElement)&&closeNav(),navMenu.contains(document.activeElement)&&openNav()});const siteBanner=document.querySelector("#site-banner");let prevScroll=window.scrollY||document.documentElement.scrollTop,direction=0,prevDirection=0;const checkScroll=()=>{let e=window.scrollY||document.documentElement.scrollTop,t=siteBanner.offsetHeight;direction=e>prevScroll?"down":"up",window.scrollY>t&&window.matchMedia("(min-width: 50rem)").matches?siteBanner.classList.add("banner--float"):window.scrollY<t?siteBanner.classList.remove("banner--float"):direction!==prevDirection&&toggleBanner(direction,e),prevScroll=e},toggleBanner=(e,t)=>{e==="down"&&t>52?(closeNav(),siteBanner.classList.remove("banner--float"),prevDirection=e):e==="up"&&(siteBanner.classList.add("banner--float"),prevDirection=e)},toTop=document.querySelector("#to-top-button");toTop.addEventListener("click",e=>{window.scrollTo(0,0)});const siteMain=document.querySelector("#site-main"),readingProgress=document.querySelector("#reading-progress"),getHeights=()=>{let e=siteMain.getBoundingClientRect(),t=e.height,n=window.innerHeight,s=t-n;return{coords:e,height:s}},showReadingProgress=()=>{let{coords:e,height:n}=getHeights(),t=0;e.top<0&&(t=Math.abs(e.top)/n*100),readingProgress.setAttribute("value",t)};document.addEventListener("scroll",debounce(()=>{checkScroll(),readingProgress&&(localStorage.getItem("animations")==="on"||localStorage.getItem("animations")===null)&&showReadingProgress()})),window.addEventListener("resize",debounce(()=>{document.documentElement.setAttribute("data-animations","off"),setTimeout(()=>{document.documentElement.setAttribute("data-animations",localStorage.getItem("animations"))},750)}));const buttons={"dark-mode":localStorage.getItem("dark-mode"),animations:localStorage.getItem("animations")};function changeButton(e,t,n){e==="dark-mode"&&buttons.animations==="on"&&(document.documentElement.setAttribute("data-animations","off"),setTimeout(()=>{document.documentElement.setAttribute("data-animations","on")},300)),document.documentElement.setAttribute("data-"+e,t),document.querySelector("#"+e+"-button-value").innerHTML=t,n&&localStorage.setItem(e,t)}for(const[e,t]of Object.entries(buttons))changeButton(e,t,!1),document.querySelector("#"+e+"-button").addEventListener("click",t=>{var n=document.documentElement.getAttribute("data-"+e)=="on"?"off":"on";changeButton(e,n,!0)})